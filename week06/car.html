<!DOCTYPE html>
<html>

<head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>자동차 선택</title>
    <!-- <style>
    fieldset{
        border-color:lightcoral;
    }
    button{
        background-color: red;
        color:seashell;
        border-color: red;
        font-weight: bold;
        float: right;
        text-align: center;
        width: 173px;
        height: 46px;
        font-size: 12px;
        font-family: Arial, Helvetica, sans-serif;
        line-height: 1.5;
    }
    </style> -->
</head>

<body>
    <fieldset>
        <legend>자동차</legend>
        제조사 : <select name="man" id="man" onchange="selectFirst();"></select><br>
        모델 : <select name="model" id="model" onchange="selectSecond();"></select><br>
        세부모델 : <select name="subModel" id="subModel"></select><br>
        <button type="submit">검색</button>
    </fieldset>
    <script>
        var man = document.getElementById("man");
        var model = document.getElementById("model");
        var subModel = document.getElementById("subModel");

        var carObj = {
            "현대": {
                "쏘나타": ["쏘나타 뉴 라이즈", "LF 쏘나타", "YF 쏘나타"],
                "그랜저": ["그랜저 IG", "그랜저 HG", "그랜저 TG"],
                "아반떼": ["더 뉴 아반떼", "아반떼 AD", "아반떼 MD"]
            },
            "기아": {
                "K5": ["더 뉴 K5", "더 뉴 K5 하이브리드", "K5 하이브리드"],
                "카니발": ["더 뉴 카니발", "올 뉴 카니발", "카니발 R"],
                "모닝": ["올 뉴 모닝", "더 뉴 모닝", "뉴 모닝"],
            },
            "쉐보레": {
                "말리부": ["더 뉴 말리부", "올 뉴 말리부", "말리부"],
                "크루즈": ["올 뉴 크루즈", "어메이징 뉴 크루즈", "크루즈"],
                "스파크": ["더 뉴 스파크", "더 넥스트 스파크", "스파크 EV", "스파크"]
                 
            }
        }

        let cars = Object.keys(carObj);
        createOption(cars, man);
        selectFirst();

        function selectFirst() {
            model.innerHTML = "";
            let models = Object.keys(carObj[man.value]);
            createOption(models, model);
            selectSecond();
        }

        function selectSecond() {
            subModel.innerHTML = "";
            let subModels = Object.values(carObj[man.value][model.value]);
            createOption(subModels, subModel);
        }

        function createOption(arr, s) {
            arr.forEach(o => {
                let opt = document.createElement("option");
                opt.value = o;
                opt.innerHTML = o;
                s.add(opt);
            });
        }
    </script>

</body>
